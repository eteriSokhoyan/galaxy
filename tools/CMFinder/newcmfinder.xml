<tool id="newcmfinder" name="CMFinder_v0" version="0.1.0" force_history_refresh="True">
    <stdio>
        <exit_code range="1:" />
    </stdio>
    <command>
        <![CDATA[
        unzip $input1 -d ./ &&
        cp /home/eteri/GalaxyProject/galaxy/tools/CMFinder/alifold.pl ./ &&
        cp /home/eteri/GalaxyProject/galaxy/tools/CMFinder/mloc2stockholm.pl ./ &&

        python /home/eteri/GalaxyProject/galaxy/tools/CMFinder/cmfinder.py ./
]]>
</command>
    <inputs>

     <!--param name="input1" type="data_collection" label="Input Collect" help="Input collection..." /-->
     <param name="input1" type="data"  format="gfClustzip" label="Cluster Collection" help="Input collection of Clusters..." />

        <conditional name="gap_threshold_opts">
            <param name="gap_threshold_opts_selector" type="select" label="Use gap threshold" help="">
                <option value="--g" selected="true">Yes (--g)</option>
                <option value="">No</option>
            </param>
            <when value="--g">
                <param name="gap" type="float" value="1.0" size="5"
                        label="Define the gap threshold to determine the conserved column (--g)" help="">
                    <sanitizer>
                        <valid initial="string.printable">
                            <remove value="&apos;"/>
                        </valid>
                    </sanitizer>
                </param>
            </when>
            <when value=""/>
        </conditional>
    </inputs>
    <outputs>
       <data name="Clusters" format="gfClustzip" label="CLUSTER" from_work_dir = "CLUSTER/*"/>
      <!--collection name="outputs" type_source="input1" format="zip" label="zipped Clusters">
       <discover_datasets pattern="__name_and_ext__" directory="CLUSTER" />
     </collection-->
    </outputs>
    <tests>
        <test>
            <param name="input1" value="model.tree.stk"/>
            <param name="input2" value="cmfinder.fa"/>
            <output name="output1" file="out.stk"/>
        </test>
    </tests>
    <help>
        <![CDATA[
Options:
	-b               Do not use BLAST search to locate anchors
	-v               Verbose. Print running information, and save intermediate results.
	-c <number>      The maximum number of candidates in each sequence. Default 40. No bigger than 100.
	-m <number>      The minimum length of candidates. Default 30
	-M <number>      The maximum length of candidates. Default 100
	-n <number>      The maximum number of output motifs. Default 3
	-f <number>      The fraction of the sequences expected to contain the motif. Default 0.80
	-s <number>      The number of stem-loops in the motif
	-h               Show this list
]]>
</help>

</tool>
