{"tests": [{"data": {"status": "failure", "inputs": {"input1": {"src": "hda", "id": "2891970512fa2d5a"}}, "output_problems": ["History item  different than expected, difference (using diff):\n( /home/eteri/GalaxyProject/galaxy/tools/NSPDK/test-data/data.svector.1 v. /tmp/tmpAErSAM/tmp/tmpBUO2_rdata.svector.1 )\nBinary data detected, not displaying diff"], "job": {"inputs": {"input1": {"src": "hda", "id": "2891970512fa2d5a", "uuid": "f45ed37d-fb82-47a5-8116-10db9eda14e4"}}, "update_time": "2016-03-22T10:43:10.596660", "tool_id": "nspdk", "outputs": {"output1": {"src": "hda", "id": "5729865256bc2525", "uuid": "dae140d3-4e39-4f0e-b14c-308716430b3c"}}, "stdout": "Name: NeighborhoodSubgraphPaiwiseDistanceKernel\nVersion: 9.2\nProgrammer: Fabrizio Costa\nDate:3 July 2012 \nLast build:Dec  2 2015\nParameters\nRadius: 3\nDistance: 3\nMatch_Type: hard\nHash_Bit_Size: 30\nMin_Kernel: 0\nNormalization: 1\nDebug_Verbosity: 0\nReading gspan data and computing features\n\nCounted 92 times.\nElapsed time: h: 0 m: 2 s: 171\nElapsed time: h: 0 m: 2 s: 171\n0", "command_line": "tmp0=$(mktemp); NSPDK -R 3 -D 3 -gt DIRECTED -fg /tmp/tmpAErSAM/files/000/dataset_1.dat -of ;  mv `(find -type f -name \"*.feature_bin\" -printf \"%f\\n\")` > $tmp0; stat --printf=\"%s\" $tmp0; mv $tmp0  /tmp/tmpAErSAM/files/000/dataset_2.dat", "exit_code": 0, "state": "ok", "create_time": "2016-03-22T10:40:05.083722", "params": {"chromInfo": "\"/home/eteri/GalaxyProject/galaxy/tool-data/shared/ucsc/chrom/hg17.len\"", "dbkey": "\"hg17\""}, "stderr": "mv: missing file operand\nTry 'mv --help' for more information.\n", "job_metrics": [], "model_class": "Job", "external_id": "4342", "id": "5729865256bc2525", "user_email": "test@bx.psu.edu"}, "problem_log": "  File \"/usr/lib/python2.7/unittest/case.py\", line 331, in run\n    testMethod()\n  File \"/home/eteri/GalaxyProject/galaxy/test/functional/test_toolbox.py\", line 291, in test_tool\n    self.do_it( td )\n  File \"/home/eteri/GalaxyProject/galaxy/test/functional/test_toolbox.py\", line 75, in do_it\n    raise e\n'History item  different than expected, difference (using diff):\\n( /home/eteri/GalaxyProject/galaxy/tools/NSPDK/test-data/data.svector.1 v. /tmp/tmpAErSAM/tmp/tmpBUO2_rdata.svector.1 )\\nBinary data detected, not displaying diff\\n-------------------- >> begin captured stdout << ---------------------\\n----------------------------------------\\n\\n--------------------- >> end captured stdout << ----------------------\\n-------------------- >> begin captured logging << --------------------\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.web.framework.webapp: INFO: Session authenticated using Galaxy master api key\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/users?key=test_key HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.web.framework.webapp: INFO: Session authenticated using Galaxy master api key\\nrequests.packages.urllib3.connectionpool: DEBUG: \"POST /api/users HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.web.framework.webapp: INFO: Session authenticated using Galaxy master api key\\nrequests.packages.urllib3.connectionpool: DEBUG: \"POST /api/users/2891970512fa2d5a/api_key HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"POST /api/histories HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.tools: DEBUG: Validated and populated state for tool request (109.332 ms)\\ngalaxy.tools.actions.upload: DEBUG: Persisted uploads (121.730 ms)\\ngalaxy.tools.actions.upload: DEBUG: Checked and cleaned uploads (1588.162 ms)\\ngalaxy.tools.actions.upload_common: INFO: tool upload1 created job id 1\\ngalaxy.tools.actions.upload: DEBUG: Created upload job (914.063 ms)\\ngalaxy.tools.execute: DEBUG: Tool [upload1] created job [1] (2627.356 ms)\\ngalaxy.jobs: DEBUG: (1) Working directory for job is: /tmp/tmpAErSAM/job_working_directory/000/1\\ngalaxy.tools.execute: DEBUG: Executed 1 job(s) for tool upload1 request: (2830.819 ms)\\ngalaxy.jobs.handler: DEBUG: (1) Dispatching to local runner\\ngalaxy.jobs: DEBUG: (1) Persisting job destination (destination id: local:///)\\nrequests.packages.urllib3.connectionpool: DEBUG: \"POST /api/tools HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.jobs.runners: DEBUG: Job [1] queued (650.835 ms)\\ngalaxy.jobs.handler: INFO: (1) Job dispatched\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=171fb1814aecdbcfadac1589df325fbf HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=171fb1814aecdbcfadac1589df325fbf HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.tools.deps: DEBUG: Building dependency shell command for dependency \\'samtools\\'\\ngalaxy.tools.deps: DEBUG: Find dependency samtools version None\\ngalaxy.tools.deps: DEBUG: Resolver tool_shed_packages returned <galaxy.tools.deps.resolvers.NullDependency object at 0x7fa1bab8dc90> (isnull? True)\\ngalaxy.tools.deps: DEBUG: Resolver galaxy_packages returned <galaxy.tools.deps.resolvers.NullDependency object at 0x7fa1bab8dc90> (isnull? True)\\ngalaxy.tools.deps: DEBUG: Resolver galaxy_packages returned <galaxy.tools.deps.resolvers.NullDependency object at 0x7fa1bab8dc90> (isnull? True)\\ngalaxy.tools.deps: DEBUG: Resolver conda returned <galaxy.tools.deps.resolvers.NullDependency object at 0x7fa1bab8dc90> (isnull? True)\\ngalaxy.tools.deps: DEBUG: Resolver conda returned <galaxy.tools.deps.resolvers.NullDependency object at 0x7fa1bab8dc90> (isnull? True)\\ngalaxy.tools.deps: WARNING: Failed to resolve dependency on \\'samtools\\', ignoring\\ngalaxy.jobs.command_factory: INFO: Built script [/tmp/tmpAErSAM/job_working_directory/000/1/tool_script.sh] for tool command[python /home/eteri/GalaxyProject/galaxy/tools/data_source/upload.py /home/eteri/GalaxyProject/galaxy /tmp/tmpAErSAM/tmp/tmpfxlXcs /tmp/tmpAErSAM/tmp/tmpV62KTG 1:/tmp/tmpAErSAM/job_working_directory/000/1/dataset_1_files:/tmp/tmpAErSAM/files/000/dataset_1.dat]\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=171fb1814aecdbcfadac1589df325fbf HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=171fb1814aecdbcfadac1589df325fbf HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.tools.deps: DEBUG: Building dependency shell command for dependency \\'samtools\\'\\ngalaxy.tools.deps: DEBUG: Find dependency samtools version None\\ngalaxy.tools.deps: DEBUG: Resolver tool_shed_packages returned <galaxy.tools.deps.resolvers.NullDependency object at 0x7fa1bab8dc90> (isnull? True)\\ngalaxy.tools.deps: DEBUG: Resolver galaxy_packages returned <galaxy.tools.deps.resolvers.NullDependency object at 0x7fa1bab8dc90> (isnull? True)\\ngalaxy.tools.deps: DEBUG: Resolver galaxy_packages returned <galaxy.tools.deps.resolvers.NullDependency object at 0x7fa1bab8dc90> (isnull? True)\\ngalaxy.tools.deps: DEBUG: Resolver conda returned <galaxy.tools.deps.resolvers.NullDependency object at 0x7fa1bab8dc90> (isnull? True)\\ngalaxy.tools.deps: DEBUG: Resolver conda returned <galaxy.tools.deps.resolvers.NullDependency object at 0x7fa1bab8dc90> (isnull? True)\\ngalaxy.tools.deps: WARNING: Failed to resolve dependency on \\'samtools\\', ignoring\\ngalaxy.jobs.runners: DEBUG: (1) command is: mkdir -p working; cd working; /tmp/tmpAErSAM/job_working_directory/000/1/tool_script.sh; return_code=$?; cd ..; python \"/tmp/tmpAErSAM/job_working_directory/000/1/set_metadata_QWvlaQ.py\" \"/tmp/tmpAErSAM/tmp/tmpfxlXcs\" \"/tmp/tmpAErSAM/job_working_directory/000/1/working/galaxy.json\" \"/tmp/tmpAErSAM/job_working_directory/000/1/metadata_in_HistoryDatasetAssociation_1_IiCIX6,/tmp/tmpAErSAM/job_working_directory/000/1/metadata_kwds_HistoryDatasetAssociation_1_PPBtLo,/tmp/tmpAErSAM/job_working_directory/000/1/metadata_out_HistoryDatasetAssociation_1_xzhzJz,/tmp/tmpAErSAM/job_working_directory/000/1/metadata_results_HistoryDatasetAssociation_1_AQOztP,/tmp/tmpAErSAM/files/000/dataset_1.dat,/tmp/tmpAErSAM/job_working_directory/000/1/metadata_override_HistoryDatasetAssociation_1_rmJhME\" 5242880; sh -c \"exit $return_code\"\\ngalaxy.jobs.runners.local: DEBUG: (1) executing job script: /tmp/tmpAErSAM/job_working_directory/000/1/galaxy_1.sh\\ngalaxy.jobs: DEBUG: (1) Persisting job destination (destination id: local:///)\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=171fb1814aecdbcfadac1589df325fbf HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.jobs.runners.local: DEBUG: execution finished: /tmp/tmpAErSAM/job_working_directory/000/1/galaxy_1.sh\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=171fb1814aecdbcfadac1589df325fbf HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.model.metadata: DEBUG: loading metadata from file for: HistoryDatasetAssociation 1\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a?key=171fb1814aecdbcfadac1589df325fbf HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.tools: DEBUG: Validated and populated state for tool request (150.989 ms)\\ngalaxy.tools.actions: INFO: Handled output named output1 for tool nspdk (291.211 ms)\\ngalaxy.jobs: DEBUG: job 1 ended (finish() executed in (2630.782 ms))\\ngalaxy.tools.actions: INFO: Verified access to datasets for Job[unflushed,tool_id=nspdk] (37.919 ms)\\ngalaxy.tools.execute: DEBUG: Tool [nspdk] created job [2] (1579.985 ms)\\ngalaxy.jobs: DEBUG: (2) Working directory for job is: /tmp/tmpAErSAM/job_working_directory/000/2\\ngalaxy.tools.execute: DEBUG: Executed 1 job(s) for tool nspdk request: (1920.742 ms)\\ngalaxy.jobs.handler: DEBUG: (2) Dispatching to local runner\\nrequests.packages.urllib3.connectionpool: DEBUG: \"POST /api/tools HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.jobs: DEBUG: (2) Persisting job destination (destination id: local:///)\\ngalaxy.jobs.runners: DEBUG: Job [2] queued (664.478 ms)\\ngalaxy.jobs.handler: INFO: (2) Job dispatched\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/jobs/5729865256bc2525?key=171fb1814aecdbcfadac1589df325fbf HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.jobs.command_factory: INFO: Built script [/tmp/tmpAErSAM/job_working_directory/000/2/tool_script.sh] for tool command[tmp0=$(mktemp); NSPDK -R 3 -D 3 -gt DIRECTED -fg /tmp/tmpAErSAM/files/000/dataset_1.dat -of ;  mv `(find -type f -name \"*.feature_bin\" -printf \"%f\\\\n\")` > $tmp0; stat --printf=\"%s\" $tmp0; mv $tmp0  /tmp/tmpAErSAM/files/000/dataset_2.dat]\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/jobs/5729865256bc2525?key=171fb1814aecdbcfadac1589df325fbf HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.tools.deps: DEBUG: Building dependency shell command for dependency \\'samtools\\'\\ngalaxy.tools.deps: DEBUG: Find dependency samtools version None\\ngalaxy.tools.deps: DEBUG: Resolver tool_shed_packages returned <galaxy.tools.deps.resolvers.NullDependency object at 0x7fa1bab8dc90> (isnull? True)\\ngalaxy.tools.deps: DEBUG: Resolver galaxy_packages returned <galaxy.tools.deps.resolvers.NullDependency object at 0x7fa1bab8dc90> (isnull? True)\\ngalaxy.tools.deps: DEBUG: Resolver galaxy_packages returned <galaxy.tools.deps.resolvers.NullDependency object at 0x7fa1bab8dc90> (isnull? True)\\ngalaxy.tools.deps: DEBUG: Resolver conda returned <galaxy.tools.deps.resolvers.NullDependency object at 0x7fa1bab8dc90> (isnull? True)\\ngalaxy.tools.deps: DEBUG: Resolver conda returned <galaxy.tools.deps.resolvers.NullDependency object at 0x7fa1bab8dc90> (isnull? True)\\ngalaxy.tools.deps: WARNING: Failed to resolve dependency on \\'samtools\\', ignoring\\ngalaxy.jobs.runners: DEBUG: (2) command is: mkdir -p working; cd working; /tmp/tmpAErSAM/job_working_directory/000/2/tool_script.sh; return_code=$?; cd ..; python \"/tmp/tmpAErSAM/job_working_directory/000/2/set_metadata_7SDEz4.py\" \"/tmp/tmpAErSAM/tmp/tmpfxlXcs\" \"/tmp/tmpAErSAM/job_working_directory/000/2/working/galaxy.json\" \"/tmp/tmpAErSAM/job_working_directory/000/2/metadata_in_HistoryDatasetAssociation_2_kqDbIk,/tmp/tmpAErSAM/job_working_directory/000/2/metadata_kwds_HistoryDatasetAssociation_2_Yl7Mka,/tmp/tmpAErSAM/job_working_directory/000/2/metadata_out_HistoryDatasetAssociation_2_azrUpV,/tmp/tmpAErSAM/job_working_directory/000/2/metadata_results_HistoryDatasetAssociation_2_rUKIGg,/tmp/tmpAErSAM/files/000/dataset_2.dat,/tmp/tmpAErSAM/job_working_directory/000/2/metadata_override_HistoryDatasetAssociation_2_c0S0eu\" 5242880; sh -c \"exit $return_code\"\\ngalaxy.jobs.runners.local: DEBUG: (2) executing job script: /tmp/tmpAErSAM/job_working_directory/000/2/galaxy_2.sh\\ngalaxy.jobs: DEBUG: (2) Persisting job destination (destination id: local:///)\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/jobs/5729865256bc2525?key=171fb1814aecdbcfadac1589df325fbf HTTP/1.1\" 200 None\\ngalaxy.jobs.runners.local: DEBUG: execution finished: /tmp/tmpAErSAM/job_working_directory/000/2/galaxy_2.sh\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\ngalaxy.jobs: DEBUG: job 2 ended (finish() executed in (2529.809 ms))\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/jobs/5729865256bc2525?key=171fb1814aecdbcfadac1589df325fbf HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/jobs/5729865256bc2525?key=171fb1814aecdbcfadac1589df325fbf HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/jobs/5729865256bc2525?full=true&key=171fb1814aecdbcfadac1589df325fbf HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/jobs/5729865256bc2525?key=171fb1814aecdbcfadac1589df325fbf HTTP/1.1\" 200 None\\nrequests.packages.urllib3.connectionpool: INFO: Starting new HTTP connection (1): localhost\\nrequests.packages.urllib3.connectionpool: DEBUG: \"GET /api/histories/2891970512fa2d5a/contents/5729865256bc2525/display?raw=true&key=171fb1814aecdbcfadac1589df325fbf HTTP/1.1\" 200 None\\nbase.twilltestcase: DEBUG: keepoutdir: /tmp/tmpAErSAM/jobfiles, ofn: /tmp/tmpAErSAM/jobfiles/data.svector.1\\nbase.twilltestcase: DEBUG: ## GALAXY_TEST_SAVE=/tmp/tmpAErSAM/jobfiles. saved /tmp/tmpAErSAM/jobfiles/data.svector.1\\nbase.twilltestcase: INFO: ## files diff on /home/eteri/GalaxyProject/galaxy/tools/NSPDK/test-data/data.svector.1 and /tmp/tmpAErSAM/tmp/tmpBUO2_rdata.svector.1 lines_diff=0, found diff = 64973\\n--------------------- >> end captured logging << ---------------------'", "problem_type": "functional.test_toolbox.JobOutputsError"}, "id": "functional.test_toolbox.TestForTool_nspdk.test_tool_000000", "has_data": true}], "version": "0.1", "exit_code": 1, "summary": {"num_skips": 0, "num_errors": 0, "num_failures": 1, "num_tests": 1}}